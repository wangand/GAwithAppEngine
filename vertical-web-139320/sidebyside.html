<!DOCTYPE html>
<meta charset="utf-8">
<html>
  <head>
    <style>
    </style>
    <title>Side by Side</title>
  </head>
  <body>
    <h1>Side by Side</h1>
    <iframe id="d3if" src="results?index=0" width="45%" height="500px"></iframe>
    <iframe id="vegaif" src="vegatest?index=0" width="45%" height="500px"></iframe>

    <br/>
    <div align="center">
    Data:  
    <select id="selector" onchange="render()">
      {% for el in samples%}
      <option value={{loop.index-1}}>{{el.name}}</option>
      {% endfor %}
    </select>

    <!--input type="button" value="render" onclick="render()"></input-->

    Spec:  
    <select id="specSelect" onchange="specSelect()">
      <option value="vlSpec">vlSpec</option>
      <option value="vlSpec2">vlSpec2</option>
    </select>
    </div>

    <script>
      var render = function(){
        var index = document.getElementById("selector").value
        var theSpec = document.getElementById("specSelect").value
        var vegasrc = document.getElementById("vegaif");
        var d3src = document.getElementById("d3if");
        vegasrc.src = "vegatest?index="+index+"&spec="+theSpec;
        d3src.src = "results?index="+index;
      };

      var specSelect = function(){
        var index = document.getElementById("selector").value
        var theSpec = document.getElementById("specSelect").value
        var vegasrc = document.getElementById("vegaif");
        vegasrc.src = "vegatest?index="+index+"&spec="+theSpec;
      };
    </script>

  </body>
</html>